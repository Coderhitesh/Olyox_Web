import{r as n,g as b,j as s,k as p}from"./index-DRu1F7xs.js";import{a as L}from"./axios-upsvKRUO.js";import{f as S,d as h,g as x,e as u,a as v}from"./index.esm-SWCDmeR9.js";import{C as g}from"./CRow-jQNSK85c.js";import{C as N}from"./CCardGroup-eiWBmIzd.js";import{C as I,a as k,b as E}from"./CForm-BFpaz7mN.js";import{C,a as i}from"./CInputGroupText-CtqGcMy6.js";import{c as P}from"./cil-user-Ddrdy7PS.js";import{c as D}from"./cil-lock-locked-DmxpJbVL.js";const H=()=>{const[t,j]=n.useState({email:"",password:""}),[l,c]=n.useState(!1),[d,f]=n.useState(!1);b();const m=a=>{const{name:o,value:r}=a.target;j(e=>({...e,[o]:r}))},w=async a=>{var o,r;a.preventDefault(),c(!0);try{const e=await L.post("http://localhost:7000/admin-login",t),{login:y}=e.data;sessionStorage.setItem("login",y),p.success("Login Successfully"),window.location.href="/"}catch(e){console.error("Login Error:",e),p.error(((r=(o=e==null?void 0:e.response)==null?void 0:o.data)==null?void 0:r.message)||"Internal server error. Please try again.")}finally{c(!1)}};return s.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:s.jsx(S,{children:s.jsx(g,{className:"justify-content-center",children:s.jsx(h,{md:8,children:s.jsx(N,{children:s.jsx(I,{className:"p-4",children:s.jsx(k,{children:s.jsxs(E,{onSubmit:w,children:[s.jsx("h1",{children:"Login"}),s.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),s.jsxs(C,{className:"mb-3",children:[s.jsx(i,{children:s.jsx(x,{icon:P})}),s.jsx(u,{placeholder:"Email",onChange:m,name:"email",value:t.email,autoComplete:"email"})]}),s.jsxs(C,{className:"mb-4",children:[s.jsx(i,{children:s.jsx(x,{icon:D})}),s.jsx(u,{type:d?"text":"password",placeholder:"Password",autoComplete:"current-password",name:"password",value:t.password,onChange:m}),s.jsx(i,{onClick:()=>f(a=>!a),style:{cursor:"pointer"},children:s.jsx("p",{children:d?"hide":"show"})})]}),s.jsx(g,{children:s.jsx(h,{xs:6,children:s.jsx(v,{color:"primary",disabled:l,type:"submit",className:"px-4",children:l?"Logging in...":"Login"})})})]})})})})})})})})};export{H as default};
